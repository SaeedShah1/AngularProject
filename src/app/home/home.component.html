<header class = "header " >
  <div class="navbar navbar-dark shadow-sm">
    <div class="navbar-brand align-item-center d-flex">
      <i style="font-size: 40px;" class="fa fa-shipping-fast">&nbsp;

      </i>
      <a style="color: white;" href="/Home">
      <strong style="font-size: 20px;" class="fa fa-umbrella">Books.Com</strong>
      </a>
    </div>
    <button class="btn btn-primary" routerLink="/cart">
      <i style="font-size: 30px;" class="fa fa-cart-plus"></i>
      <div style="font-size: 10px;" class="badge bg-danger"  >{{this.cartItem}}</div>
    </button>
  </div>
</header>

<div class="row" >


  <div class="card-header">

    <mat-form-field >
      <input type = "Search"
             name = "Search"  matInput placeholder = "Search Book" [(ngModel)]="name" >
    </mat-form-field>
    <button (click)="getAllBooksWithPagination(name,paramsForSearch)" class="fa fa-search btn btn-outline-info btn-sm " style="color:darkturquoise;  "  ></button>
  </div>

</div>

<div>


<div>


 <table class="table  table-responsive-xxl">
   <div class="card"  *ngFor="let Book of books| paginate:params;let i=index">
   <tbody>
    <tr *ngIf=" books.length<5 && i==0">

      <td *ngIf=" books.length>0 && i==0" style="width: 23%">
        <img src="/assets/images/{{books[0].name}}.png" class="img img" (click)="open(content,books[0].id)" >

        <p style="font-family: Arial;color: black">Name: {{books[0].name}}</p>

        <p style="font-family: Arial;color: black">Author: {{books[0].authorDTO.authorName}}</p>

        <button class="fa fa-shopping-cart btn btn-sm btn-outline-info text-center" (click)="addToCart(message,books[0].id)"> Add To cart</button>

      </td>

      <td *ngIf=" books.length>1 && i==0"  style="width: 21%">
        <img src="/assets/images/{{books[1].name}}.png" class="img img" (click)="open(content,books[1].id)" >

        <p style="font-family: Arial;color: black">Name: {{books[1].name}}</p>

        <p style="font-family: Arial;color: black">Author: {{books[1].authorDTO.authorName}}</p>

        <button class="fa fa-shopping-cart btn btn-sm btn-outline-info text-center" (click)="addToCart(message,books[1].id)"> Add To cart</button>

      </td>

      <td *ngIf=" books.length>2 && i==0"  style="width: 21%">
        <img src="/assets/images/{{books[2].name}}.png" class="img img" (click)="open(content,books[2].id)" >

        <p style="font-family: Arial;color: black">Name: {{books[2].name}}</p>

        <p style="font-family: Arial;color: black">Author: {{books[2].authorDTO.authorName}}</p>

        <button class="fa fa-shopping-cart btn btn-sm btn-outline-info text-center" (click)="addToCart(message,books[2].id)"> Add To cart</button>

      </td>

      <td *ngIf=" books.length>3 && i==0"  style="width: 20%">
        <img src="/assets/images/{{books[3].name}}.png" class="img img" (click)="open(content,books[3].id)" >

        <p style="font-family: Arial;color: black">Name: {{books[3].name}}</p>

        <p style="font-family: Arial;color: black">Author: {{books[3].authorDTO.authorName}}</p>

        <button class="fa fa-shopping-cart btn btn-sm btn-outline-info text-center" (click)="addToCart(message,books[3].id)"> Add To cart</button>

      </td>
      <td *ngIf=" books.length>4 && i==0"  style="width: 20%">
        <img src="/assets/images/{{books[4].name}}.png" class="img img" (click)="open(content,books[4].id)" >

        <p style="font-family: Arial;color: black">Name: {{books[4].name}}</p>

        <p style="font-family: Arial;color: black">Author: {{books[4].authorDTO.authorName}}

          <button class="fa fa-shopping-cart btn btn-sm btn-outline-info text-center" (click)="addToCart(message,books[4].id)"> Add To cart</button>

      </td>
    </tr>



   <tr *ngIf="books.length>=5 && i==0">

     <td style="width: 23%">
      <img src="/assets/images/{{books[0].name}}.png" class="img img" (click)="open(content,books[0].id)" >

      <p style="font-family: Arial;color: black">Name: {{books[0].name}}</p>

      <p style="font-family: Arial;color: black">Author: {{books[0].authorDTO.authorName}}</p>

       <button class="fa fa-shopping-cart btn btn-sm btn-outline-info text-center" (click)="addToCart(message,books[0].id)"> Add To cart</button>
    </td>

     <td style="width: 21%">
      <img src="/assets/images/{{books[1].name}}.png" class="img img" (click)="open(content,books[1].id)" >

      <p style="font-family: Arial;color: black">Name: {{books[1].name}}</p>

      <p style="font-family: Arial;color: black">Author: {{books[1].authorDTO.authorName}}</p>

       <button class="fa fa-shopping-cart btn btn-sm btn-outline-info text-center" (click)="addToCart(message,books[1].id)"> Add To cart</button>
    </td>

     <td style="width: 21%">
      <img src="/assets/images/{{books[2].name}}.png" class="img img" (click)="open(content,books[2].id)" >

      <p style="font-family: Arial;color: black">Name: {{books[2].name}}</p>

      <p style="font-family: Arial;color: black">Author: {{books[2].authorDTO.authorName}}</p>

       <button class="fa fa-shopping-cart btn btn-sm btn-outline-info text-center" (click)="addToCart(message,books[2].id)"> Add To cart</button>

    </td>

     <td style="width: 20%">
      <img src="/assets/images/{{books[3].name}}.png" class="img img" (click)="open(content,books[3].id)" >

      <p style="font-family: Arial;color: black">Name: {{books[3].name}}</p>

      <p style="font-family: Arial;color: black">Author: {{books[3].authorDTO.authorName}}</p>

       <button class="fa fa-shopping-cart btn btn-sm btn-outline-info text-center" (click)="addToCart(message,books[3].id)"> Add To cart</button>
    </td>

     <td style="width: 20%">
      <img src="/assets/images/{{books[4].name}}.png" class="img img" (click)="open(content,books[4].id)" >

      <p style="font-family: Arial;color: black">Name: {{books[4].name}}</p>

      <p style="font-family: Arial;color: black">Author: {{books[4].authorDTO.authorName}}</p>

       <button class="fa fa-shopping-cart btn btn-sm btn-outline-info text-center" (click)="addToCart(message,books[4].id)"> Add To cart</button>

    </td>

  </tr>



  <tr *ngIf="books.length>=5 && books.length<=10 && i==1">
    <td style="width: 23%">
      <img src="/assets/images/{{books[5].name}}.png" class="img img" (click)="open(content,books[5].id)" >

      <p style="font-family: Arial;color: black">Name: {{books[5].name}}</p>

      <p style="font-family: Arial;color: black">Author: {{books[5].authorDTO.authorName}}</p>

      <button class="fa fa-shopping-cart btn btn-sm btn-outline-info text-center" (click)="addToCart(message,books[5].id)"> Add To cart</button>

    </td>

    <td style="width: 21%">
      <img src="/assets/images/{{books[6].name}}.png" class="img img" (click)="open(content,books[6].id)" >

      <p style="font-family: Arial;color: black">Name: {{books[6].name}}</p>

      <p style="font-family: Arial;color: black">Author: {{books[6].authorDTO.authorName}}</p>

      <button class="fa fa-shopping-cart btn btn-sm btn-outline-info text-center" (click)="addToCart(message,books[6].id)"> Add To cart</button>

    </td>

    <td style="width: 21%">
      <img src="/assets/images/{{books[7].name}}.png" class="img img" (click)="open(content,books[7].id)" >

      <p style="font-family: Arial;color: black">Name: {{books[7].name}}</p>

      <p style="font-family: Arial;color: black">Author: {{books[7].authorDTO.authorName}}</p>

      <button class="fa fa-shopping-cart btn btn-sm btn-outline-info text-center" (click)="addToCart(message,books[7].id)"> Add To cart</button>

    </td>

    <td style="width: 20%">

      <img src="/assets/images/{{books[8].name}}.png" class="img img" (click)="open(content,books[8].id)" >

      <p style="font-family: Arial;color: black">Name: {{books[8].name}}</p>

      <p style="font-family: Arial;color: black">Author: {{books[8].authorDTO.authorName}}</p>

      <button class="fa fa-shopping-cart btn btn-sm btn-outline-info text-center" (click)="addToCart(message,books[8].id)"> Add To cart</button>

    </td>

    <td style="width: 20%">
      <div>
      <img src="/assets/images/{{books[9].name}}.png" class="img img" (click)="open(content,books[9].id)" >

      <p style="font-family: Arial;color: black">Name: {{books[9].name}}</p>

      <p style="font-family: Arial;color: black">Author: {{books[9].authorDTO.authorName}}</p>

        <button class="fa fa-shopping-cart btn btn-sm btn-outline-info text-center" (click)="addToCart(message,books[9].id)"> Add To cart</button>
      </div>
    </td>

  </tr>




   <!--<tr>
     <td  *ngFor="let Book of books| paginate:params;let i = index">

       <div class="card">

         <img src="/assets/images/{{books[i].name}}.png" class="img img" (click)="open(content,Book.id)" >

         <p style="font-family: Arial;color: black">Name: {{books[i].name}}</p>

         <p style="font-family: Arial;color: black">Author: {{books[i].authorDTO.authorName}}</p>

         <a href="#" class="fa fa-shopping-cart btn btn-sm btn-outline-info text-center"> Add To cart</a>

       </div>


     </td>

   </tr>
-->

<!--    <tbody *ngFor="let i of ind| paginate:params">

    <tr  *ngFor="let r of row">
      <td *ngFor="let c of col" [class.active]=" getBooksOneByOne()">

           <p>{{sr}} :???????</p>
        <div class="card" *ngIf="!(books.length ==0)">
          <img src="/assets/images/{{books[sr].name}}.png" class="img img" (click)="open(content,books[sr].id)" >

          <p style="font-family: Arial;color: black">Name: {{books[sr].name}}</p>

          <p style="font-family: Arial;color: black">Author: {{books[sr].authorDTO.authorName}}</p>

          <a href="#" class="fa fa-shopping-cart btn btn-sm btn-outline-info text-center"> Add To cart</a>

        </div>


      </td>
      <span class="break" ><br></span>


    </tr>
    </tbody>-->







    </tbody>
  </div>
  </table>


</div>
  <pagination-controls
    (pageChange)="onChangePage($event)" class="pagination pagination-lg"
  ></pagination-controls>

</div>


<ng-template #content let-modal >
  <div class="modal-header header">
    <h4 class="modal-title" id="modal-basic-title">{{book.name}}</h4>
    <button type="button" class=" btn btn-danger" aria-label="Close" (click)="modal.dismiss('Cross click')">
      <span aria-hidden="true">&times;</span>
    </button>
  </div>
  <div class="modal-body">
<form>
      <div class="container">
        <img src="/assets/images/{{book.name}}.png" class="img" for ="forImg">
        <p style="font-family: Arial;color: black">Name: {{book.name}}</p>

        <p style="font-family: Arial;color: black">Author: {{book.authorDTO.authorName}}</p>

        <button class="fa fa-shopping-cart btn btn-sm btn-outline-info text-center" (click)="addToCart(message,book.id)"> Add To cart</button>
      </div>
</form>
  </div>

</ng-template>

<ng-template #message let-modal >
  <div class="modal-header header">
    <h4 class="modal-title" id="modal-message">Cart Updated</h4>
    <button type="button" class=" btn btn-danger" aria-label="Close" (click)="modal.dismiss('Cross click')">
      <span aria-hidden="true">&times;</span>
    </button>
  </div>
  <div class="modal-body">
    <form>
      <div class="container">
        <img src="/assets/images/{{book.name}}.png" class="img" for ="forImg">
        <p style="font-family: Arial;color: black">Name: {{book.name}}</p>

        <p style="font-family: Arial;color: black">Author: {{book.authorDTO.authorName}}</p>
        <p style="font-family: Arial;color: black">Added to cart</p>

        <button  class=" btn btn-sm btn-outline-info text-center" (click)="modal.dismiss('Cross click')">Okay</button>
      </div>
    </form>
  </div>

</ng-template>
